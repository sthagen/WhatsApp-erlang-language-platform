---
sidebar_position: 66
---

# W0066 - lists:map/2 to list comprehension

## Warning

```erlang
main(L) ->
    lists:map(fun (X) -> X + 1 end, L).
%%  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ðŸ’¡ warning: lists:map/2 call can be replaced with a list comprehension.
```

## Explanation

The warning message indicates a `lists:map/2` call that can be replaced with a
list comprehension. List comprehensions are generally preferred in Erlang because
they are more idiomatic, often more readable, and can be more efficient since the
compiler can optimize them directly.

To fix this warning, rewrite the `lists:map/2` call as a strict list comprehension:

```erlang
main(L) ->
    [X + 1 || X <:- L].
```

The strict generator (`<:-`) is used instead of the regular generator (`<-`) to
ensure that the new semantics agree with the pattern matching in the head of the
function given to `lists:map/2`.
